@model Nhom8_ShopMotoBikes.Models.Hang

@{
    ViewBag.Title = "Thêm sản phẩm";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}

<div class="chitiet">
     <form method="post" action="@Url.Action("Create","Sanpham")" enctype="multipart/form-data">
            @Html.AntiForgeryToken()

         <div class="form-horizontal">
             @Html.ValidationSummary(true, "", new { @class = "text-danger" })

             <div class="form-group">
                 <div class="col-md-12 text-center">
                     <p><img id="hienThiAnh" width="150px" src="~/wwwroot/img/sanpham/no-image-news.png" /></p>
                     <p><label for="loadFile" style="cursor:pointer;"><b>Chọn file ảnh</b></label></p>
                     <p><input name="ImageFilesss" type="file" id="loadFile" style="display:none;" onchange="eventLoadFile(event)" /></p>
                 </div>
             </div>

             <div class="form-group">
                 <b>Tên hàng:</b>
                 <div class="col-md-12">
                     @Html.EditorFor(model => model.TenHang, new { htmlAttributes = new { @class = "form-control" } })
                     @Html.ValidationMessageFor(model => model.TenHang, "", new { @class = "text-danger" })
                 </div>
             </div>

             <div class="form-group mt-1">
                 <b>Tên danh mục:</b>
                 <div class="col-md-12">
                     @Html.DropDownList("MaDM", null, htmlAttributes: new { @class = "form-control" })
                     @Html.ValidationMessageFor(model => model.MaDM, "", new { @class = "text-danger" })
                 </div>
             </div>

             <div class="form-group mt-1">
                 <b>Thương hiệu:</b>
                 <div class="col-md-12">
                     @Html.EditorFor(model => model.ThuongHieu, new { htmlAttributes = new { @class = "form-control" } })
                     @Html.ValidationMessageFor(model => model.ThuongHieu, "", new { @class = "text-danger" })
                 </div>
             </div>

             <div class="form-group mt-1">
                 <b> Loại xe: </b>
                 <div class="col-md-12">
                     @Html.EditorFor(model => model.LoaiXe, new { htmlAttributes = new { @class = "form-control" } })
                     @Html.ValidationMessageFor(model => model.LoaiXe, "", new { @class = "text-danger" })
                 </div>
             </div>

             <div class="form-group mt-1">
                 <b>Giá tiền: </b>
                 <div class="col-md-12">
                     @Html.EditorFor(model => model.GiaTien, new { htmlAttributes = new { @class = "form-control", data_val_number = "Giá tiền nhập vào phải là số !" } })
                     @Html.ValidationMessageFor(model => model.GiaTien, "", new { @class = "text-danger" })
                 </div>
             </div>



             <div class="form-group mt-1">
                 <b>Màu sắc:</b>
                 <div class="col-md-12">
                     @Html.EditorFor(model => model.MauSac, new { htmlAttributes = new { @class = "form-control" } })
                     @Html.ValidationMessageFor(model => model.MauSac, "", new { @class = "text-danger" })
                 </div>
             </div>

             <div class="form-group mt-1">
                 <b>Số lượng: </b>
                 <div class="col-md-12">
                     @Html.EditorFor(model => model.SoLuong, new { htmlAttributes = new { @class = "form-control", data_val_number = "Số lượng nhập vào phải là số !" } })
                     @Html.ValidationMessageFor(model => model.SoLuong, "", new { @class = "text-danger" })
                 </div>

             </div>
             <div class="form-group mt-1">
                 <b> Mô tả hàng:</b>
                 <div class="col-md-12">
                     @Html.EditorFor(model => model.MoTaHang, new { htmlAttributes = new { @class = "form-control", @cols = 35, @rows = 5 } })
                     @Html.ValidationMessageFor(model => model.MoTaHang, "", new { @class = "text-danger" })
                 </div>
                 <br />
             </div>
             <div class="form-group mt-1">
                 <div class="col-md-offset-2 col-md-12 text-center">
                     <button type="submit" class="btn btn-success">
                         Thêm
                     </button> &nbsp; | &nbsp;

                     @Html.ActionLink("Hủy", "Index")
                 </div>
                 <br />
             </div>
             <div class="form-group mt-1">

                 @if (ViewBag.ErrorCreateHang != null)
                 {
                     <br />
                     <div class="alert alert-danger" role="alert">@ViewBag.ErrorCreateHang</div>
                 }
             </div>

          </div>
        </form>
            
</div>

    <script>
        var eventLoadFile = function (event) {

            var file = document.getElementById("loadFile").value;
            var ext = file.substring(file.lastIndexOf('.') + 1);
            if (ext == "") return true;
            if (ext == "gif" || ext == "GIF" || ext == "PNG" || ext == "png" || ext == "jpg" || ext == "JPG" || ext == "bmp" || ext == "BMP") {
                var imagessssssss = document.getElementById('hienThiAnh');
                imagessssssss.src = URL.createObjectURL(event.target.files[0]);
                return true;
            }
            else {
                document.getElementById("loadFile").value = null;
                alert("Chỉ upload file ảnh!");
                fup.focus();
                return false;
            }
        };

    </script>

    <script src="~/Scripts/jquery-3.4.1.min.js"></script>
    <script src="~/Scripts/jquery.validate.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
