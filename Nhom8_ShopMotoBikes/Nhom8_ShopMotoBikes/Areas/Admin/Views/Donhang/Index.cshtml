@model PagedList.IPagedList<Nhom8_ShopMotoBikes.Models.DonHang>
@using PagedList.Mvc;

@{
    ViewBag.Title = "Danh sách đơn hàng";
    ViewBag.Link = "Quản lý đơn hàng";
    ViewBag.Name = "Donhang";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}
@section CSSPartial{
    <link href="~/Areas/Admin/Assets/css/table.css" rel="stylesheet">
}
<br />
<div class="row">
    <div class="col-lg-12">
        <table class="table table-bordered table-striped table-hover">
            <thead>
                <tr class="text-center">
                    <th>Mã đơn hàng</th>
                    <th>Tên khách hàng</th>
                    <th>Ngày đặt</th>
                    <th>Tổng tiền</th>
                    <th>Địa chỉ</th>
                    <th>Tình trạng</th>
                    <th colspan="3">Hành động</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    <tr class="text-center">
                        <th> @Html.DisplayFor(modelItem => item.MaDH)</th>
                        <td> @Html.DisplayFor(modelItem => item.TaiKhoan.HoTen)</td>
                        <td> @Html.DisplayFor(modelItem => item.NgayDat)</td>
                        <td>@string.Format("{0:#,##}", item.TongTien) VND</td>
                        <td>@Html.DisplayFor(modelItem => item.DiaChiGiaoHang)</td>

                        @{
                            string tinhTrang = "";
                            if (item.TinhTrangDH == 1) { tinhTrang = "Đang giao"; }
                            else if (item.TinhTrangDH == 2) { tinhTrang = "Đã giao"; }
                            else { tinhTrang = "Đã hủy"; }
                        }
                        <td>@tinhTrang</td>
                        <td title="Xem chi tiết" class="see-details"><a href="@Url.Action("Details","Donhang",new {id = item.MaDH})"><i class="bi bi-eye-fill"></i></a></td>
                        <td title="Sửa tình trạng đơn hàng" class="edit"><a href="@Url.Action("Edit","Donhang",new {id = item.MaDH})"><i class="bi bi-pencil-fill"></i></a></td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
</div>


<div class="row padding-table">

    @Html.PagedListPager(Model, page => Url.Action("Index", new { page }), new PagedListRenderOptions()
   {
       UlElementClasses = new string[] { "store-pagination" },
   })

</div>


